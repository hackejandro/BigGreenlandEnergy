<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Big Greenland Energy‚Ñ¢</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      line-height: 1.6;
      background: #fafafa;
      color: #1a1a1a;
      min-height: 100vh;
    }
    .container {
      max-width: 680px;
      margin: 0 auto;
      padding: 60px 24px;
    }
    .progress-bar {
      height: 4px;
      background: #e5e5e5;
      border-radius: 2px;
      overflow: hidden;
      margin-bottom: 48px;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #6366f1, #8b5cf6);
      transition: width 0.3s ease;
      border-radius: 2px;
    }
    .card {
      background: white;
      border-radius: 12px;
      padding: 48px 40px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
      margin-bottom: 24px;
    }
    .start-screen {
      text-align: center;
    }
    .logo {
      font-size: 48px;
      margin-bottom: 24px;
    }
    h1 {
      font-size: 32px;
      font-weight: 700;
      margin: 0 0 16px;
      color: #1a1a1a;
      line-height: 1.2;
    }
    .start-screen p {
      font-size: 18px;
      color: #666;
      margin: 0 0 20px;
      line-height: 1.6;
    }
    .start-btn {
      appearance: none;
      border: none;
      background: #1a1a1a;
      color: white;
      border-radius: 8px;
      padding: 16px 32px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 16px;
    }
    .start-btn:hover {
      background: #333;
      transform: translateY(-1px);
    }
    .question-number {
      font-size: 14px;
      font-weight: 600;
      color: #8b5cf6;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .question {
      font-size: 24px;
      font-weight: 600;
      color: #1a1a1a;
      margin: 0 0 32px;
      line-height: 1.3;
    }
    .answers {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .answer-btn {
      appearance: none;
      border: 2px solid #e5e5e5;
      background: white;
      color: #1a1a1a;
      border-radius: 8px;
      padding: 18px 20px;
      text-align: left;
      cursor: pointer;
      transition: all 0.15s;
      font-size: 16px;
      font-weight: 500;
      position: relative;
    }
    .answer-btn:hover {
      border-color: #8b5cf6;
      background: #faf5ff;
    }
    .answer-btn:active {
      transform: scale(0.98);
    }
    .outcome-screen {
      text-align: center;
    }
    .spirit-animal {
      font-size: 16px;
      font-weight: 700;
      color: #8b5cf6;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .spirit-name {
      font-size: 18px;
      font-weight: 700;
      color: #8b5cf6;
      margin-bottom: 8px;
    }
    .spirit-desc {
      font-size: 14px;
      color: #666;
      margin-bottom: 32px;
      font-style: italic;
    }
    .outcome-badge {
      display: inline-block;
      background: #f3f4f6;
      color: #6366f1;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .outcome-title {
      font-size: 28px;
      font-weight: 700;
      margin: 0 0 16px;
      color: #1a1a1a;
      line-height: 1.2;
    }
    .outcome-copy {
      font-size: 17px;
      line-height: 1.7;
      color: #666;
      margin-bottom: 32px;
    }
    .share-section {
      background: #f9fafb;
      border-radius: 12px;
      padding: 24px;
      margin-top: 32px;
    }
    .share-title {
      font-size: 14px;
      font-weight: 600;
      color: #666;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .share-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .btn-share {
      appearance: none;
      border: none;
      background: #0a66c2;
      color: white;
      border-radius: 8px;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .btn-share:hover {
      background: #004182;
      transform: translateY(-1px);
    }
    .btn-download {
      appearance: none;
      border: 2px solid #e5e5e5;
      background: white;
      color: #1a1a1a;
      border-radius: 8px;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn-download:hover {
      border-color: #8b5cf6;
      background: #faf5ff;
    }
    #shareCard {
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 800px;
      background: white;
      padding: 60px;
      font-family: system-ui, -apple-system, sans-serif;
    }
    .share-card-header {
      text-align: center;
      margin-bottom: 40px;
    }
    .share-card-logo {
      font-size: 18px;
      font-weight: 700;
      color: #8b5cf6;
      margin-bottom: 8px;
    }
    .share-card-portrait {
      width: 200px;
      height: 200px;
      margin: 0 auto 30px;
      border-radius: 50%;
      border: 5px solid #8b5cf6;
      background: #f3f4f6;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
      overflow: hidden;
    }
    .share-card-portrait img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .share-card-name {
      font-size: 24px;
      font-weight: 700;
      color: #8b5cf6;
      margin-bottom: 12px;
    }
    .share-card-title {
      font-size: 32px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 20px;
      line-height: 1.2;
    }
    .share-card-copy {
      font-size: 20px;
      color: #666;
      margin-bottom: 30px;
      line-height: 1.6;
    }
    .share-card-desc {
      font-size: 16px;
      color: #666;
      font-style: italic;
      line-height: 1.6;
    }
    .outcome-note {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 16px 20px;
      border-radius: 8px;
      font-size: 14px;
      color: #92400e;
      text-align: left;
      margin: 24px 0;
      font-style: italic;
    }
    .final-badge {
      display: inline-block;
      background: #1a1a1a;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      margin-top: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .nav-buttons {
      display: flex;
      gap: 12px;
      margin-top: 32px;
      justify-content: center;
    }
    .btn-secondary {
      appearance: none;
      border: 2px solid #e5e5e5;
      background: white;
      color: #666;
      border-radius: 8px;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn-secondary:hover {
      border-color: #ccc;
      color: #1a1a1a;
    }
    .btn-back {
      position: fixed;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%);
      appearance: none;
      border: 2px solid #e5e5e5;
      background: white;
      color: #666;
      border-radius: 8px;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .btn-back:hover {
      border-color: #8b5cf6;
      color: #1a1a1a;
    }
    @media (max-width: 640px) {
      .container { padding: 40px 20px; }
      .card { padding: 32px 24px; }
      h1 { font-size: 28px; }
      .question { font-size: 20px; }
      .btn-back { bottom: 20px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar" style="width: 0%"></div>
    </div>

    <div class="card">
      <div id="startScreen" class="start-screen">
        <div class="logo">üåç</div>
        <h1>Big Greenland Energy‚Ñ¢</h1>
        <p>Trump wants Greenland. Europe must respond.</p>
        <p>You know exactly how.</p>
        <p>Complete the flowchart and find out which EU strategy spirit animal you channel.</p>
        <button class="start-btn" onclick="startQuiz()">Begin Your Journey</button>
      </div>

      <div id="quizScreen" style="display:none;">
        <div class="question-number" id="questionNumber"></div>
        <div class="question" id="question"></div>
        <div class="answers" id="answers"></div>
      </div>

      <div id="outcomeScreen" class="outcome-screen" style="display:none;">
        <div class="outcome-badge">Your EU Strategy Archetype</div>
        
        <div class="portrait-container" id="portraitContainer">
          <span class="portrait-placeholder">üë§</span>
        </div>
        
        <div class="spirit-animal" id="spiritName"></div>
        <div class="spirit-desc" id="spiritDesc"></div>
        
        <h2 class="outcome-title" id="outcomeTitle"></h2>
        <div class="outcome-copy" id="outcomeCopy"></div>

        <div class="share-section">
          <div class="share-title">Share Your Result</div>
          <div class="share-buttons">
            <button class="btn-share" onclick="shareLinkedIn()">
              <span>Share on LinkedIn</span>
            </button>
            <button class="btn-download" onclick="downloadImage()">
              üì• Download Image
            </button>
            <button class="btn-secondary" onclick="copyResult()">
              üìã Copy Text
            </button>
          </div>
        </div>
        
        <div class="nav-buttons" style="margin-top: 24px;">
          <button class="btn-secondary" onclick="restart()">Take Quiz Again</button>
        </div>
      </div>
    </div>
  </div>
  <div><p>created by AI-lejandro Tauber</p></div>

  <!-- Hidden element for share card generation -->
  <div id="shareCard">
    <div class="share-card-header">
      <div class="share-card-logo">Big Greenland Energy‚Ñ¢</div>
    </div>
    <div class="share-card-portrait" id="sharePortrait">üë§</div>
    <div class="share-card-name" id="shareName"></div>
    <div class="share-card-title" id="shareTitle"></div>
    <div class="share-card-copy" id="shareCopy"></div>
    <div class="share-card-desc" id="shareDesc"></div>
  </div>

  <button id="backBtn" class="btn-back" style="display:none;" onclick="goBack()">‚Üê Back</button>

  <script>
    const OUTCOME_COPY = {
      "Sanctions Maximalism": {
        title: "Sanctions Maximalism",
        copy: `Why target individuals when you can crater an entire economy? Go big or go home, and make sure the IMF has the numbers ready for your press conference.`,
        spirit: "Catherine Ashton",
        spiritDesc: "EU's first High Representative who oversaw the Iran sanctions regime‚Äîpatient, methodical, believed economic pressure could change regimes",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Baroness_Ashton_of_Upholland%2C_Brussels_2012.jpg/440px-Baroness_Ashton_of_Upholland%2C_Brussels_2012.jpg"
      },
      "Targeted Sanctions Realism": {
        title: "Targeted Sanctions Realism",
        copy: `Sanctions work best when accompanied by a 40-slide deck explaining the methodology, complete with appendices on asset freezing procedures and a FAQ section.`,
        spirit: "Javier Solana",
        spiritDesc: "Former EU High Representative who pioneered 'smart sanctions'‚Äîdiplomatic, measured, always with a technical briefing ready",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Javier_Solana_2008.jpg/440px-Javier_Solana_2008.jpg"
      },
      "Trade Retaliation": {
        title: "Trade Retaliation",
        copy: `Match his tariffs dollar for dollar, make sure your retaliation hits swing states, and schedule the announcement for maximum cable news coverage. Equilibrium through spite.`,
        spirit: "Cecilia Malmstr√∂m",
        spiritDesc: "EU Trade Commissioner who faced down Trump's steel tariffs‚Äîdirect, unafraid of trade wars, believed in reciprocal measures",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Cecilia_Malmstr%C3%B6m_2015.jpg/440px-Cecilia_Malmstr%C3%B6m_2015.jpg"
      },
      "Anti-Coercion Instrument": {
        title: "Anti-Coercion Instrument Enthusiast",
        copy: `The EU literally passed this regulation in 2023 for exactly this type of situation, so now we just need six months of inter-service consultations to figure out how to activate it.`,
        spirit: "Valdis Dombrovskis",
        spiritDesc: "Executive VP who champions EU economic sovereignty tools‚Äîregulation-first, believes every challenge needs a legal instrument",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Valdis_Dombrovskis_2023.jpg/440px-Valdis_Dombrovskis_2023.jpg"
      },
      "NATO Expansion Logic": {
        title: "NATO Expansion Logic",
        copy: `Turn every problem into a collective defense issue and let Article 5 do the heavy lifting. Greenland joins NATO, Denmark invokes Article 5, Trump becomes everyone's problem. Beautiful.`,
        spirit: "Carl Bildt",
        spiritDesc: "Swedish PM who championed Baltic NATO membership‚Äîsecurity maximalist, Article 5 solves most problems",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Carl_Bildt_2015.jpg/440px-Carl_Bildt_2015.jpg"
      },
      "Joint Defence Proposal": {
        title: "Joint Defence Proposal",
        copy: `Get the Nordics in a room, draft a joint statement about shared sovereignty and security cooperation, add some ships to a map, and call it deterrence. Coordination is 90% of defense anyway.`,
        spirit: "Federica Mogherini",
        spiritDesc: "High Representative who launched PESCO‚Äîmultilateral defence believer, coordination over confrontation",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Federica_Mogherini_Official.jpg/440px-Federica_Mogherini_Official.jpg"
      },
      "Military Deterrence (Implicit)": {
        title: "Military Deterrence (Implicit)",
        copy: `Move some assets around, don't explain what they're doing there, and let the Atlantic Council write 8,000 words analyzing your intentions. Ambiguity is the deterrent.`,
        spirit: "Michel Barnier",
        spiritDesc: "Brexit negotiator known for strategic silence‚Äîactions speak louder, mastered the art of calculated presence",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Michel_Barnier_2019.jpg/440px-Michel_Barnier_2019.jpg"
      },
      "International Law Invocation": {
        title: "International Law Invocation",
        copy: `Actually, the 1933 Montevideo Convention is quite explicit about territorial sovereignty, and if you read the Vienna Convention alongside the UN Charter, it's clear that‚Äîsorry, did I lose you at Montevideo?`,
        spirit: "Margrethe Vestager",
        spiritDesc: "Competition Commissioner who weaponized EU law‚Äîrules-based warrior, cites legal frameworks like others breathe",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Margrethe_Vestager_2023.jpg/440px-Margrethe_Vestager_2023.jpg"
      },
      "Multilateralisation": {
        title: "Multilateralisation",
        copy: `Why solve something with 27 member states when you can bring in the UN, WTO, OECD, and potentially create an Arctic Council subcommittee? More stakeholders, more legitimacy, more conference calls.`,
        spirit: "Herman Van Rompuy",
        spiritDesc: "First EU Council President‚Äîconsensus builder, believed every crisis needed more chairs at the table",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Herman_Van_Rompuy_2010.jpg/440px-Herman_Van_Rompuy_2010.jpg"
      },
      "Procedural Delay": {
        title: "Procedural Delay",
        copy: `Schedule a scoping meeting to determine if we need a working group to assess whether a task force should examine the possibility of a review. Due process takes time, and time is strategy.`,
        spirit: "Jean-Claude Juncker",
        spiritDesc: "Commission President and Luxembourg PM‚Äîmaster of 'strategic patience,' every decision needs another working group",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Jean-Claude_Juncker_2016.jpg/440px-Jean-Claude_Juncker_2016.jpg"
      },
      "New Framework Creation": {
        title: "New Framework Creation",
        copy: `Launch the EU-Arctic-Atlantic Strategic Dialogue Mechanism with a proper acronym, secretariat, and quarterly ministerials. Every crisis deserves its own institutional architecture, preferably with a Brussels office.`,
        spirit: "Jacques Delors",
        spiritDesc: "Commission President who built the Single Market‚Äîinstitution builder extraordinaire, never met a mechanism he didn't create",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Jacques_Delors_-_Flickr_-_The_Official_CTBTO_Photostream.jpg/440px-Jacques_Delors_-_Flickr_-_The_Official_CTBTO_Photostream.jpg"
      },
      "Quiet Diplomacy": {
        title: "Quiet Diplomacy",
        copy: `Handle this through back channels, bilateral consultations, and off-the-record assurances, then give a press conference where you explain at length why you can't discuss what you discussed.`,
        spirit: "Martti Ahtisaari",
        spiritDesc: "Finnish President and peace mediator‚Äîback-channel specialist, Nobel laureate of silent diplomacy",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Martti_Ahtisaari_2008.jpg/440px-Martti_Ahtisaari_2008.jpg"
      },
      "Strategic Ambiguity": {
        title: "Strategic Ambiguity",
        copy: `"All options remain on the table" is a complete sentence and a complete strategy. Let people guess which options, whether you have options, or if there even is a table.`,
        spirit: "Wolfgang Sch√§uble",
        spiritDesc: "German Finance Minister during Eurocrisis‚Äîmaster of meaningful silence, never confirmed, never denied",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/2018-03-12_Unterzeichnung_des_Koalitionsvertrages_der_19._Wahlperiode_des_Bundestages_by_Sandro_Halank%E2%80%93049.jpg/440px-2018-03-12_Unterzeichnung_des_Koalitionsvertrages_der_19._Wahlperiode_des_Bundestages_by_Sandro_Halank%E2%80%93049.jpg"
      },
      "Transactional Bargaining": {
        title: "Transactional Bargaining",
        copy: `He wants Greenland? Offer him a trade deal on soybeans, a summit photo-op, and some vague language about security cooperation. Then change the subject before he notices we didn't give him Greenland.`,
        spirit: "Viktor Orb√°n",
        spiritDesc: "Hungarian PM who mastered EU horse-trading‚Äîeverything is negotiable, loyalty has a price",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Orb%C3%A1n_Viktor_minisztereln%C3%B6k.jpg/440px-Orb%C3%A1n_Viktor_minisztereln%C3%B6k.jpg"
      },
      "Grand Bargain": {
        title: "Grand Bargain",
        copy: `Bundle Greenland with Ukraine, climate commitments, trade disputes, and that thing about the WTO appellate body into one comprehensive package deal. Either solve everything at once or solve nothing‚Äîthere is no middle ground.`,
        spirit: "Angela Merkel",
        spiritDesc: "German Chancellor who bundled crises into comprehensive solutions‚Äîpackage deal architect, thought in systems not issues",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/2021-12-08_Unterzeichnung_des_Koalitionsvertrages_der_20._Wahlperiode_des_Bundestages_1DX_4237_by_Stepro.jpg/440px-2021-12-08_Unterzeichnung_des_Koalitionsvertrages_der_20._Wahlperiode_des_Bundestages_1DX_4237_by_Stepro.jpg"
      },
      "De-escalation First": {
        title: "De-escalation Doctrine",
        copy: `Lower the temperature through measured responses, calm rhetoric, and rational dialogue, secure in the knowledge that being reasonable has definitely worked on Donald Trump in the past.`,
        spirit: "Frank-Walter Steinmeier",
        spiritDesc: "German Foreign Minister known for patient dialogue‚Äîtone matters, believed calm rationality wins eventually",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Bundespr%C3%A4sident_Steinmeier_%28cropped%29.jpg/440px-Bundespr%C3%A4sident_Steinmeier_%28cropped%29.jpg"
      },
      "Democratic Deliberation": {
        title: "Democratic Deliberation",
        copy: `Convene a citizens' assembly, ensure proper regional representation, live-stream the proceedings, and reconvene in 18 months with a 300-page report. Democracy takes time and we have time.`,
        spirit: "Val√©ry Giscard d'Estaing",
        spiritDesc: "French President who led the Constitutional Convention‚Äîdemocratic process purist, legitimacy through deliberation",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Val%C3%A9ry_Giscard_d%27Estaing_1978.jpg/440px-Val%C3%A9ry_Giscard_d%27Estaing_1978.jpg"
      },
      "Greenland Self-Determination": {
        title: "Greenland Self-Determination",
        copy: `Center Greenlandic voices in this conversation about Greenland's future‚Äîbut maybe after a few EU Council meetings where we align our position on what their self-determination should look like.`,
        spirit: "Bertie Ahern",
        spiritDesc: "Irish PM during Good Friday Agreement‚Äîself-determination champion, believed affected populations should decide",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Bertie_Ahern_2007.jpg/440px-Bertie_Ahern_2007.jpg"
      },
      "Values-Based Response": {
        title: "Values-Based Response",
        copy: `Respond with dignity, reaffirm our commitment to the rules-based international order, and take the moral high ground so decisively that it doesn't matter what the actual outcome is. We'll feel good about ourselves.`,
        spirit: "Ursula von der Leyen",
        spiritDesc: "Commission President who leads with values rhetoric‚Äî'geopolitical Commission' believer, principles over pragmatism",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Ursula_von_der_Leyen_2019.jpg/440px-Ursula_von_der_Leyen_2019.jpg"
      },
      "Norm-Setting": {
        title: "Norm-Setting",
        copy: `Respond so correctly, so proportionally, and so obviously in line with international law that future autocrats will study this as the textbook example of how democracies handle territorial coercion. Precedent is everything.`,
        spirit: "Joschka Fischer",
        spiritDesc: "German Foreign Minister who championed Kosovo intervention‚Äîprincipled response setter, today's action is tomorrow's precedent",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Joschka_Fischer_Headshot.jpg/440px-Joschka_Fischer_Headshot.jpg"
      },
      "Ignore It": {
        title: "Ignore It",
        copy: `Do not engage. Do not respond. Starve it of oxygen and attention. Then spend the next three weeks explaining to journalists why you're not responding and what that non-response signals.`,
        spirit: "Mario Draghi",
        spiritDesc: "ECB President who famously said he'd do 'whatever it takes' then... waited‚Äîstrategic non-response master",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Mario_Draghi_2019.jpg/440px-Mario_Draghi_2019.jpg"
      },
      "Wait It Out": {
        title: "Wait It Out",
        copy: `Four years is nothing in the grand sweep of European history. We've waited out the Romans, we can wait out a single presidential term. Time is on our side, assuming nothing else happens.`,
        spirit: "Helmut Kohl",
        spiritDesc: "German Chancellor who outlasted everyone‚Äîpatience incarnate, reunification came to those who waited",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Helmut_Kohl_1989.jpg/440px-Helmut_Kohl_1989.jpg"
      },
      "Reframe the Issue": {
        title: "Reframe the Issue",
        copy: `This isn't really about Greenland‚Äîit's about rare earth minerals, Chinese influence in the Arctic, climate security, and the future of transatlantic relations. Once you see the real issue, the response writes itself.`,
        spirit: "Emmanuel Macron",
        spiritDesc: "French President who reframes everything as 'strategic autonomy'‚Äînever takes issues at face value, always finds the deeper meaning",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Emmanuel_Macron_2019.jpg/440px-Emmanuel_Macron_2019.jpg"
      },
      "Out-Message It": {
        title: "Out-Message It",
        copy: `We're losing the narrative war, so deploy better talking points, sharper infographics, and a coordinated communications strategy across all channels. If we can't win the policy fight, at least win the Twitter fight.`,
        spirit: "Tony Blair",
        spiritDesc: "UK PM who mastered New Labour messaging‚Äînarrative is reality, presentation beats policy, third way communicator",
        portrait: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Tony_Blair_2010.jpg/440px-Tony_Blair_2010.jpg"
      }
    };

    const NODES = {
      Q1: {
        question: "Should Europe respond at all?",
        answers: [
          { label: "No", next: null, outcome: "Ignore It" },
          { label: "Yes", next: "Q2" }
        ]
      },
      Q2: {
        question: "Is time itself the strategy?",
        answers: [
          { label: "Yes", outcome: "Wait It Out" },
          { label: "No", next: "Q3" }
        ]
      },
      Q3: {
        question: "Should the response impose costs?",
        answers: [
          { label: "Yes", next: "Q4" },
          { label: "No", next: "Q10" }
        ]
      },
      Q4: {
        question: "What kind of costs?",
        answers: [
          { label: "Economic", next: "Q5" },
          { label: "Security", next: "Q7" },
          { label: "Political", next: "Q9" }
        ]
      },
      Q5: {
        question: "Trade or sanctions?",
        answers: [
          { label: "Trade", outcome: "Trade Retaliation" },
          { label: "Sanctions", next: "Q6" }
        ]
      },
      Q6: {
        question: "Broad or targeted?",
        answers: [
          { label: "Broad", outcome: "Sanctions Maximalism" },
          { label: "Targeted", outcome: "Targeted Sanctions Realism" }
        ]
      },
      Q7: {
        question: "Through existing security structures?",
        answers: [
          { label: "Yes", next: "Q8" },
          { label: "No", outcome: "Military Deterrence (Implicit)" }
        ]
      },
      Q8: {
        question: "Specifically NATO?",
        answers: [
          { label: "Yes", outcome: "NATO Expansion Logic" },
          { label: "No", outcome: "Joint Defence Proposal" }
        ]
      },
      Q9: {
        question: "Political cost by norms or by messaging?",
        answers: [
          { label: "Norms", outcome: "Norm-Setting" },
          { label: "Messaging", outcome: "Out-Message It" }
        ]
      },
      Q10: {
        question: "Should institutions take the lead?",
        answers: [
          { label: "Yes", next: "Q11" },
          { label: "No", next: "Q14" }
        ]
      },
      Q11: {
        question: "Existing tools or new ones?",
        answers: [
          { label: "Existing", next: "Q12" },
          { label: "New", outcome: "New Framework Creation" }
        ]
      },
      Q12: {
        question: "Economic or legal instrument?",
        answers: [
          { label: "Economic", outcome: "Anti-Coercion Instrument" },
          { label: "Legal", next: "Q12b" }
        ]
      },
      Q12b: {
        question: "Law or multilateral forum?",
        answers: [
          { label: "Law", outcome: "International Law Invocation" },
          { label: "Forum", outcome: "Multilateralisation" }
        ]
      },
      Q14: {
        question: "Diplomatic or political?",
        answers: [
          { label: "Diplomatic", next: "Q15" },
          { label: "Political", next: "Q17" }
        ]
      },
      Q15: {
        question: "Public or quiet?",
        answers: [
          { label: "Quiet", outcome: "Quiet Diplomacy" },
          { label: "Public", outcome: "Strategic Ambiguity" }
        ]
      },
      Q17: {
        question: "Is there something to trade?",
        answers: [
          { label: "Yes", next: "Q18" },
          { label: "No", next: "Q20" }
        ]
      },
      Q18: {
        question: "Small deal or big deal?",
        answers: [
          { label: "Small", outcome: "Transactional Bargaining" },
          { label: "Big", outcome: "Grand Bargain" }
        ]
      },
      Q20: {
        question: "Should democratic process be central?",
        answers: [
          { label: "Yes", next: "Q21" },
          { label: "No", next: "Q23" }
        ]
      },
      Q21: {
        question: "Whose democracy?",
        answers: [
          { label: "Greenland", outcome: "Greenland Self-Determination" },
          { label: "Europe", outcome: "Democratic Deliberation" }
        ]
      },
      Q23: {
        question: "Which non-cost move?",
        answers: [
          { label: "Values", outcome: "Values-Based Response" },
          { label: "De-escalate", outcome: "De-escalation First" },
          { label: "Reframe", outcome: "Reframe the Issue" },
          { label: "Delay", outcome: "Procedural Delay" }
        ]
      }
    };

    let currentNode = "Q1";
    let history = [];
    let outcome = null;

    const $startScreen = document.getElementById("startScreen");
    const $quizScreen = document.getElementById("quizScreen");
    const $outcomeScreen = document.getElementById("outcomeScreen");
    const $question = document.getElementById("question");
    const $questionNumber = document.getElementById("questionNumber");
    const $answers = document.getElementById("answers");
    const $outcomeTitle = document.getElementById("outcomeTitle");
    const $outcomeCopy = document.getElementById("outcomeCopy");
    const $spiritName = document.getElementById("spiritName");
    const $spiritDesc = document.getElementById("spiritDesc");
    const $portraitContainer = document.getElementById("portraitContainer");
    const $progressBar = document.getElementById("progressBar");
    const $backBtn = document.getElementById("backBtn");

    function startQuiz() {
      $startScreen.style.display = "none";
      $quizScreen.style.display = "block";
      $quizScreen.classList.add("fade-in");
      $backBtn.style.display = "block";
      render();
    }

    function render() {
      if (outcome) {
        showOutcome();
        return;
      }

      const node = NODES[currentNode];
      $questionNumber.textContent = `Question ${history.length + 1}`;
      $question.textContent = node.question;
      
      // Update progress
      const totalQuestions = 10;
      const progress = Math.min((history.length / totalQuestions) * 100, 90);
      $progressBar.style.width = progress + '%';

      $answers.innerHTML = "";
      node.answers.forEach(ans => {
        const btn = document.createElement("button");
        btn.className = "answer-btn slide-in";
        btn.textContent = ans.label;
        btn.onclick = () => selectAnswer(ans);
        $answers.appendChild(btn);
      });

      $backBtn.style.display = history.length > 0 ? "block" : "none";
    }

    function selectAnswer(ans) {
      history.push({ node: currentNode, answer: ans.label });
      
      if (ans.outcome) {
        outcome = ans.outcome;
        render();
      } else {
        currentNode = ans.next;
        render();
      }
    }

    function showOutcome() {
      $quizScreen.style.display = "none";
      $outcomeScreen.style.display = "block";
      $outcomeScreen.classList.add("fade-in");
      $backBtn.style.display = "none";
      $progressBar.style.width = "100%";

      const data = OUTCOME_COPY[outcome];
      
      // Update portrait
      $portraitContainer.innerHTML = `<img src="${data.portrait}" alt="${data.spirit}" onerror="this.style.display='none'; this.parentElement.innerHTML='<span class=\\'portrait-placeholder\\'>üë§</span>'">`;
      
      $spiritName.textContent = data.spirit;
      $spiritDesc.textContent = data.spiritDesc;
      $outcomeTitle.textContent = data.title;
      $outcomeCopy.textContent = data.copy;
    }

    async function downloadImage() {
      const data = OUTCOME_COPY[outcome];
      
      // Populate share card
      const sharePortrait = document.getElementById("sharePortrait");
      sharePortrait.innerHTML = `<img src="${data.portrait}" alt="${data.spirit}" onerror="this.style.display='none'; this.parentElement.innerHTML='üë§'">`;
      document.getElementById("shareName").textContent = data.spirit;
      document.getElementById("shareTitle").textContent = data.title;
      document.getElementById("shareCopy").textContent = data.copy;
      document.getElementById("shareDesc").textContent = data.spiritDesc;
      
      // Use html2canvas library
      const script = document.createElement('script');
      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';
      script.onload = async () => {
        const card = document.getElementById('shareCard');
        const canvas = await html2canvas(card, {
          backgroundColor: '#ffffff',
          scale: 2
        });
        
        canvas.toBlob((blob) => {
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `${data.spirit.replace(/\s+/g, '-')}-greenland-result.png`;
          a.click();
          URL.revokeObjectURL(url);
        });
      };
      document.head.appendChild(script);
    }

    function shareLinkedIn() {
      const data = OUTCOME_COPY[outcome];
      
      const text = `I just discovered my EU Strategy Archetype: ${data.spirit}

${data.title}
${data.copy}

${data.spiritDesc}

What's your Greenland solution? Take the quiz: [your-url-here]

#BigGreenlandEnergy #EUStrategy #Geopolitics`;
      
      const linkedInUrl = `https://www.youtube.com/watch?v=j13oJajXx0M`;
      window.open(linkedInUrl, '_blank');
      
      // Copy text to clipboard for easy pasting
      navigator.clipboard.writeText(text);
      alert('Text copied to clipboard! Paste it into your LinkedIn post.');
    }

    function copyResult() {
      const data = OUTCOME_COPY[outcome];
      
      const text = `My EU Strategy Archetype: ${data.spirit}

${data.title}
${data.copy}

${data.spiritDesc}`;
      
      navigator.clipboard.writeText(text);
      alert('Result copied to clipboard!');
    }

    function goBack() {
      if (outcome) {
        outcome = null;
        $outcomeScreen.style.display = "none";
        $quizScreen.style.display = "block";
        $backBtn.style.display = "block";
        render();
        return;
      }

      if (history.length === 0) {
        restart();
        return;
      }

      const prev = history.pop();
      currentNode = prev.node;
      render();
    }

    function restart() {
      currentNode = "Q1";
      history = [];
      outcome = null;
      $startScreen.style.display = "block";
      $quizScreen.style.display = "none";
      $outcomeScreen.style.display = "none";
      $backBtn.style.display = "none";
      $progressBar.style.width = "0%";
    }
  </script>
</body>
</html>
